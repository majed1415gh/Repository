module.exports = {
  apps: [
    {
      // اسم التطبيق الذي سيظهر في قائمة PM2
      name: 'it-support-app',

      // المسار إلى ملف الخادم الرئيسي
      script: './backend/server.js',

      // هل تريد إعادة تشغيل التطبيق تلقائياً عند تغيير أي ملف؟
      // يفضل أن تكون false في بيئة الإنتاج
      watch: false,

      // متغيرات البيئة (يمكنك إضافة أي متغيرات هنا)
      env: {
        NODE_ENV: 'production',
      },

      // إعدادات إضافية
      instances: 1, // تشغيل نسخة واحدة من التطبيق
      exec_mode: 'fork', // الوضع القياسي للتشغيل
      max_memory_restart: '200M', // إعادة تشغيل التطبيق إذا تجاوز استهلاك الذاكرة 200 ميجابايت
    },
  ],
};
